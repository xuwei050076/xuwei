---
layout: post
title:  产品经理——做一个自己的系统 
category: 技术 
---

我开了公司，公司名称叫微硬，简称MS。（The Microsoft is WR ,and my Microhard is ms）。

微硬公司中，我是产品经理。以前的产品经理都是想着用户，所以做出来对开发者都不好，很多开发者都不做MS的开发。于是，我从开发者的角度设计，让开发者喜欢。对于用户，反正我不知道。

<!-- csdn -->
<!--more-->

<div id="toc"></div>


现在的客户端应用与网页端应用，其实都有缺点。我想做一个有两者优点没有两者缺点的系统。

首先，客户端应用，需要用户使用先经过很长的等待下载和等待安装，所以好多应用都卡在这里。而网页端却是可以做到点卡就可以使用。但是网页端不能好的使用硬件的性能。在每次使用网页都需要下载上一次已经用过的资源，虽然有缓存，但是好多东西还是要下载一次。另外，对于一些需要处理大的文件，还是要经过很长的等待。网页端还有一个缺点，就是用户留下的比较少，用户不会记得有这个网页，除非他需要。而这些缺点，客户端都能解决。客户端的问题是更新慢，一次更新，经常需要更新整个程序，网页可以快速更新，不需要和客户端一样。客户端可以把信息存放在用户本地，对于一些机密的信息，人们比较喜欢用单机的客户端，不喜欢使用网页端。但是客户端经常太流氓，网页端可以不怕流氓。

我想做一个系统，可以让客户端点击就可以打开，又保留客户端的优点，但是让开发者可以不去想更新的问题，自动帮开发者升级。但客户端添加了很多限制，其中最大的就是和WR的理念，使用沙箱，限制客户端的文件访问和系统权限。所有的权限都要向用户申请，之外，所有的开发者都需要和MS申请，如果开发的应用出现问题，可以直接去找开发者。




以前的人都是从使用开始讲，一点也不好，于是我的系统开始从开发开始讲。

开发中，我是从发布开始讲，也就是开发的最后一步，让用户使用应用。

## 安装应用

## 安装的区别

发布的软件其实可以分为单机版和联机版，单机版可以不需要联网就可以运行，联机版可以在不联网运行，但是有些功能无法使用。

无论是哪个版本，都需要开发者使用自己在MS申请的账号，新建一个APP，MS会给每一个APP一个唯一的ID和私钥，开发者必须对自己的应用使用MS给的私钥签名。这样，其他人就不能假装应用是其他开发者开发的。

那么来说下单机版的应用如何给用户使用。

MS 提供两种方式给用户安装，但是用户只知道有一个安装包，不知道安装包的区别。

和WR一样，我们提供的安装包有一种是中间语言安装包，他就是把开发者的代码编译为中间代码，用户可以通过把中间语音安装包编译为本机代码来安装。另一种就是下载已经编译为本机的安装包，可以不需要经过编译就使用。

于是两个安装包就在需不需要编译的一个问题。

## 验证秘钥

安装之前，MS系统会自动检测安装包的签名，从获取应用的应用ID，然后到MS服务器获取应用ID的公钥，使用应用的公钥去解密，获取开发者和应用信息。关于加密的开发者和应用信息，我将在后面说包括哪些。

一旦下载的公钥可以去解密，那么可以证明，这个应用是受官方认可的，一旦应用出现问题，可以直接把责任到开发者上。而且对于放在MS服务器的单机版安装包，还可以使用MS的安全验证，验证安全。

## 安装所在地方

那么系统是不是和WR的一样，有好多个盘。我觉得不要，系统和Linux一样才好，通过文件夹、软连接来使用多个硬盘才好。用户以为只有一个硬盘，不需要自己去想如何把东西放在什么硬盘。

所以系统有一个区，这个文件夹是放所有的安装的应用，应用只有安装在这个文件夹才可以运行，如果在其他文件夹，那么不能运行。所有的应用有自己的文件夹，文件夹的应用只有一个入口。

但是还有问题，用户从哪获取安装包。MS提供让开发者把自己的安装包传到MS服务器，在申请开发的时候免费给开发者10G的空间放安装包。但是WR告诉了我，如果只能从MS服务器下载，可能会让用户都跑了，因为存在一些地方无法从MS服务器下载，所以可以


### 申请图片库权限

应用：XX 
申请图片库访问权限。
应用向用户说的：我需要帮你处理相册
系统：请注意，某些应用可能会上传您的私密照片，如果不信任该应用，请点否。






## 产品经理——一个密码登陆所有账号

## 广告

所有应用的广告懂通过 ms 成立的开发包引入。

检测用户是否使用，如果用户不在使用，显示广告是无效。检测广告是否显示，用底层检测，判断是否软件点击是ms判断。

点击广告可以使用url打开应用，如果打开的应用没有下载，自动下载。

ms 使用所有通讯只有ms服务器，不区分广告和更新，安全传输。

如果无法连接ms服务器，进行登陆提示当前无法连接ms服务器，无法进行xx。工程师联系。尝试修复。

修复用的：禁用代理应用。


## 功能应用

功能应用只能有某些功能，如果输入法功能。

具有输入法的应用，只能做输入，不能做其他。

代理应用，可以网络代理。

ms 对功能应用开放应用权限，禁止其他权限。

如输入法应用，禁止弹窗，禁止显示设置，禁止让用户下载应用功能。

输入法设置只能在设置界面进行设置，输入法可以给一个窗口做设置。
